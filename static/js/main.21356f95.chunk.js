(window["webpackJsonpthreshold-sigs"]=window["webpackJsonpthreshold-sigs"]||[]).push([[0],{384:function(e,t,n){e.exports=n(760)},400:function(e,t){},409:function(e,t){},430:function(e,t){},432:function(e,t){},527:function(e,t){},529:function(e,t){},552:function(e,t){},760:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(84),i=n.n(s),o=n(38),c=n.n(o),u=n(64),l=n(102),p=n(103),h=n(104),d=n(106),m=n(107),b=n(136),f=n(771),v=n(761),y=n(772),g=n(775),x=n(776),w=n(373),E=n(774),S=n(773),T=n(356),k=n.n(T),O=n(108),j=n.n(O),C=n(137),A=n.n(C);function K(e){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(c.a.mark((function e(t){var n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},uri:"https://api.bitindex.network/api/addrs/utxo",body:{addrs:t},json:!0,timeout:5e3},e.prev=1,e.next=4,A()(n);case 4:for((a=e.sent).sort((function(e,t){return t.confirmations-e.confirmations})),r=[],s=0;s<a.length;s++)!0,r.push(new j.a.Transaction.UnspentOutput({address:a[s].address,script:j.a.Script(a[s].script),satoshis:a[s].satoshis,outputIndex:a[s].outputIndex,txid:a[s].txid}));return e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function F(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},uri:"https://api.whatsonchain.com/v1/bsv/main/tx/hash/".concat(t),json:!0,timeout:5e3},e.prev=1,e.next=4,A()(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function J(e){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"text/plain"},uri:"https://maestro.masagi.co.uk:8001/bsv/".concat(t),timeout:5e3},e.prev=1,e.next=4,A()(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var G=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){n.setState({value:e.target.value})},n.handleChange2=function(e){n.setState({value2:e.target.value})},n.handleSubmit=function(e){e&&e.preventDefault();try{var t=j.a.PublicKey.fromHex(n.state.value);n.setState({pubKey:t,bitcoinAddress:t.toAddress().toString(),properFormatPubKey:!0})}catch(a){n.setState({properFormatPubKey:!1})}},n.handleGetTxButton=function(){var e=Object(u.a)(c.a.mark((function e(t){var a,r,s,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),n.setState({isRequesting:!0}),e.next=4,K(n.state.bitcoinAddress);case 4:return a=e.sent,n.setState({isRequesting:!1}),e.next=8,F(a[0].txId);case 8:return r=e.sent,s=n.state.pubKey,i=(new j.a.Transaction).from(a).change(s),e.next=13,J(i.toString());case 13:o=e.sent,delete(o=JSON.parse(o)).hex,n.setState({tx0:r,tx1:o});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={isRequesting:!1,properFormatPubKey:!0,properFormatSig:!0,value:"",value2:"",bitcoinAddress:"",pubKey:"",tx0:"",tx1:""},n}return Object(m.a)(t,e),Object(p.a)(t,[{key:"displayFormatLabelPubKey",value:function(){return this.state.properFormatPubKey?"":r.a.createElement(b.a,{basic:!0,color:"red",pointing:"below"},"Please enter a valid public key in compressed form")}},{key:"displayFormatLabelSig",value:function(){return this.state.properFormatSig?"":r.a.createElement(b.a,{basic:!0,color:"red",pointing:"below"},"Please enter a valid signature in hex")}},{key:"displayQRCode",value:function(){return this.state.bitcoinAddress?r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement(f.a,{hidden:!0}),r.a.createElement("p",null,this.state.bitcoinAddress),r.a.createElement(k.a,{value:"bitcoin:".concat(this.state.bitcoinAddress),size:200})),r.a.createElement("div",{className:"row"},r.a.createElement("a",{className:"btn btn-primary",target:"_blank",href:"https://www.whatsonchain.com/address/".concat(this.state.bitcoinAddress)},"What's on chain!")),r.a.createElement(f.a,{hidden:!0}),r.a.createElement(v.a,{color:"blue",content:"Get Transactions",onClick:this.handleGetTxButton,loading:this.state.isRequesting,size:"huge"})):""}},{key:"displayJSONTXs",value:function(){return this.state.tx0&&this.state.tx1?r.a.createElement("div",{className:"row"},r.a.createElement(f.a,{hidden:!0}),r.a.createElement(b.a,{pointing:"below"},"Funding Tx (TX0)"),r.a.createElement(y.a,{value:JSON.stringify(this.state.tx0,null,2),style:{minHeight:150,width:"550px"}}),r.a.createElement(b.a,{pointing:"below"},"Unsigned Tx (TX1)"),r.a.createElement(y.a,{value:JSON.stringify(this.state.tx1,null,2),style:{minHeight:150,width:"550px"}})):""}},{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{textAlign:"center",style:{height:"50vh"},verticalAlign:"middle"},r.a.createElement(g.a.Column,{style:{maxWidth:675}},r.a.createElement(x.a,{as:"h2",color:"blue",textAlign:"center",size:"huge"},r.a.createElement(w.a,{src:"https://pbs.twimg.com/profile_images/1072445043569516544/5nUSQ-4_.jpg"})," ","Threshold Signature Scheme"),r.a.createElement(f.a,null),this.displayFormatLabelPubKey,r.a.createElement(E.a,{onSubmit:this.handleSubmit},r.a.createElement(S.a,{action:{content:"QR Code",onClick:function(){return e.handleSubmit()}},placeholder:"Public Key in compressed format",style:{justifyContent:"center",width:"535px"},onChange:this.handleChange})),this.displayQRCode(),this.displayJSONTXs()))}}]),t}(a.Component);n(759);var q=function(){return r.a.createElement(G,null)};i.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[384,1,2]]]);
//# sourceMappingURL=main.21356f95.chunk.js.map